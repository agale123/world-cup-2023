<div class="container-lg">
    <div class="row">
        <div class="col col-3">
            <div class="pb-3" *ngIf="matchIds">
                <h5>Match IDs</h5>
                <ul class="list-group">
                    <li class="list-group-item">
                       {{matchIds.join(', ')}}
                        <button type="button" class="btn-close float-end" aria-label="Close"
                            (click)="clearMatchIds()"></button>
                    </li>
                </ul>
            </div>
            <div class="pb-3">
                <h5>Countries</h5>
                <select class="selectpicker" multiple data-live-search="true" data-actions-box="true" data-width="100%"
                    #countries (change)="updateMatches()">
                    <optgroup *ngFor="let group of groups" label="{{group.name}}">
                        <option *ngFor="let country of group.children" value="{{country}}">
                            {{countryService.formatCountry(country)}}</option>
                    </optgroup>
                </select>
            </div>
            <div class="pb-3">
                <h5>Cities</h5>
                <select class="selectpicker" multiple data-live-search="true" data-actions-box="true" data-width="100%"
                    #cities (change)="updateMatches()">
                    <option *ngFor="let city of allCities">{{city}}</option>
                </select>
            </div>
            <div class="pb-3">
                <h5>Timezone</h5>
                <select class="selectpicker" data-width="100%" #timezone (change)="updateMatches()">
                    <option value="local">Local game time</option>
                    <option value="computer">Computer time</option>
                    <option value="Pacific/Auckland">New Zealand</option>
                    <option value="Australia/Sydney">Sydney/Melbourne/Brisbane</option>
                    <option value="Australia/Adelaide">Adelaide</option>
                    <option value="Australia/Perth">Perth</option>
                </select>
            </div>
            <div class="pb-3">
                <h5>Projected finish</h5>

                <ul class="list-group">
                    <li *ngFor="let projection of projected" class="list-group-item">
                        {{countryService.formatCountry(projection.country)}}: {{projection.position}}
                        <button type="button" class="btn-close float-end" aria-label="Close"
                            (click)="removeProjection(projection)"></button>
                    </li>
                </ul>

                <div class="mt-1">Country</div>
                <select class="selectpicker" data-live-search="true" data-width="100%" #country>
                    <optgroup *ngFor="let group of groups" label="{{group.name}}">
                        <option *ngFor="let country of group.children" value="{{country}}">
                            {{countryService.formatCountry(country)}}</option>
                    </optgroup>
                </select>
                <div class="mt-1">Position</div>
                <select class="selectpicker" data-width="100%" #position>
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>
                <div class="d-grid d-md-flex justify-content-md-end">
                    <button type="button" class="btn btn-secondary mt-2" (click)="addProjection()">Save</button>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="mb-2 d-flex justify-content-end">
                <button (click)="copyLink()" type="button" class="btn btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-link" viewBox="0 0 16 16" style="margin-bottom: 4px;">
                        <path
                            d="M6.354 5.5H4a3 3 0 0 0 0 6h3a3 3 0 0 0 2.83-4H9c-.086 0-.17.01-.25.031A2 2 0 0 1 7 10.5H4a2 2 0 1 1 0-4h1.535c.218-.376.495-.714.82-1z" />
                        <path
                            d="M9 5.5a3 3 0 0 0-2.83 4h1.098A2 2 0 0 1 9 6.5h3a2 2 0 1 1 0 4h-1.535a4.02 4.02 0 0 1-.82 1H12a3 3 0 1 0 0-6H9z" />
                    </svg>
                    Copy Link
                </button>
            </div>
            <div class="table-wrapper">
                <table class="table table-striped">
                    <thead class="sticky-top bg-white">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Home</th>
                            <th scope="col">Away</th>
                            <th scope="col">City</th>
                            <th scope="col">Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let match of matches">
                            <th scope="row">{{match.id}}</th>
                            <td style="white-space:pre-wrap">{{formatCountry(match.home)}}</td>
                            <td style="white-space:pre-wrap">{{formatCountry(match.away)}}</td>
                            <td>{{match.city}}</td>
                            <td>{{formatDate(match.date, match.city)}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>